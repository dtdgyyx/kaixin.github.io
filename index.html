<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ¦Š ç»™å¼€å¿ƒçš„å¥‡é‡ ğŸ°</title>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;600&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* --- æ¢¦å¹»æ¸å˜é…è‰²ä½“ç³» --- */
            
            /* å°¼å…‹è‰²è°ƒï¼šæŸ”å’Œçš„è¥¿æŸš/é™¶åœŸçº¢ */
            --nick-tone: #E09F95;
            /* æœ±è¿ªè‰²è°ƒï¼šé™è°§çš„é£ä¿¡å­è“ */
            --judy-tone: #8FBFE0;
            
            /* æ–‡å­—é¢œè‰² */
            --text-dark: #4A4040;
            --text-light: #7E7575;
            
            /* å¡ç‰‡ç»ç’ƒè´¨æ„Ÿ */
            --glass-bg: rgba(255, 255, 255, 0.82);
            --glass-border: rgba(255, 255, 255, 0.6);
            --glass-shadow: 0 8px 32px rgba(142, 142, 142, 0.1);

            /* å­—ä½“ */
            --font-title: 'ZCOOL KuaiLe', cursive;
            --font-hand: 'Ma Shan Zheng', cursive;
            --font-body: 'Noto Serif SC', serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body {
            font-family: var(--font-body);
            color: var(--text-dark);
            line-height: 2; /* æ›´å®½æ¾çš„è¡Œé«˜ï¼Œé€‚åˆç§»åŠ¨ç«¯ */
            overflow-x: hidden;
            min-height: 100vh;
            cursor: default;
            
            /* --- å¤§èƒ†ä¸”æŸ”å’Œçš„åŠ¨æ€æ¸å˜èƒŒæ™¯ --- */
            /* ä½¿ç”¨äº†ç²‰ã€ç´«ã€è“çš„æ··åˆï¼Œæ¨¡æ‹Ÿé»„æ˜åˆ°å¤œæ™šçš„æµªæ¼«è¿‡æ¸¡ */
            background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #a18cd1, #fbc2eb);
            background-size: 400% 400%;
            animation: gradientMove 15s ease infinite;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- å¢å¼ºç‰ˆé£˜è½ç”»å¸ƒ --- */
        #falling-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
        }

        /* --- æŸ”å’Œæ°´æ³¢å±‚ --- */
        .ripple-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 9999; overflow: hidden;
        }
        
        .ripple {
            position: absolute;
            border-radius: 50%;
            /* ç™½è‰²åŠé€æ˜å¡«å……ï¼Œè¾¹ç¼˜ç¾½åŒ– */
            background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 70%);
            transform: scale(0);
            opacity: 0.6;
            animation: rippleSoft 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        @keyframes rippleSoft {
            to { transform: scale(4); opacity: 0; }
        }

        /* --- å°é¢ --- */
        #cover {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            /* å°é¢ä¹Ÿä½¿ç”¨åŠé€æ˜ç£¨ç ‚ï¼Œé€å‡ºèƒŒåçš„æ¸å˜ */
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(20px);
            transition: transform 1s cubic-bezier(0.77, 0, 0.175, 1);
        }
        #cover.hidden { transform: translateY(-100%); }

        .hero-img {
            width: 240px; height: 240px;
            margin-bottom: 30px;
            filter: drop-shadow(0 15px 25px rgba(0,0,0,0.1));
            animation: float 6s ease-in-out infinite;
        }

        .cover-title {
            font-family: var(--font-title);
            font-size: 3.2rem; 
            color: #fff; /* åœ¨å½©è‰²èƒŒæ™¯ä¸Šç”¨ç™½è‰²æ–‡å­—æ›´æ¸…çˆ½ */
            text-shadow: 0 4px 10px rgba(0,0,0,0.15);
            margin: 10px 0;
            letter-spacing: 2px;
            text-align: center;
        }
        
        .cover-subtitle {
            font-family: var(--font-hand);
            font-size: 1.4rem; color: rgba(255,255,255,0.9);
            margin-bottom: 40px; letter-spacing: 2px;
        }

        .btn-start {
            padding: 14px 45px; 
            border-radius: 50px; 
            border: none;
            background: rgba(255, 255, 255, 0.9);
            color: var(--nick-tone);
            font-size: 1.1rem; 
            font-weight: bold;
            font-family: var(--font-body); letter-spacing: 2px;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .btn-start:hover { 
            transform: translateY(-2px) scale(1.05); 
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        /* --- ä¸»å†…å®¹å¸ƒå±€ --- */
        #main-content {
            padding: 90px 20px; max-width: 800px; margin: 0 auto;
            opacity: 0; transition: opacity 1.2s ease 0.3s;
        }

        /* å¡ç‰‡æ ·å¼ä¼˜åŒ– */
        .story-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 35px 30px; /* ç§»åŠ¨ç«¯å†…è¾¹è·é€‚é… */
            margin-bottom: 60px;
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(15px); /* ç£¨ç ‚æ•ˆæœ */
            transform: translateY(40px); opacity: 0; 
            transition: all 0.8s ease;
        }
        .story-card.visible { transform: translateY(0); opacity: 1; }

        .chapter-header { text-align: center; margin-bottom: 35px; border-bottom: 2px dashed rgba(0,0,0,0.05); padding-bottom: 20px;}
        .chapter-num { font-family: 'Nunito'; color: var(--text-light); font-size: 0.9rem; letter-spacing: 3px; text-transform: uppercase; opacity: 0.7;}
        .chapter-name { font-family: var(--font-title); font-size: 1.8rem; color: var(--text-dark); margin-top: 5px; }

        /* æ–‡å­—æ’ç‰ˆï¼šæ›´å¤§ã€æ›´æ˜“è¯» */
        p { 
            margin-bottom: 1.6em; 
            text-align: justify; 
            font-size: 1.1rem; /* å­—å·åŠ å¤§ */
            color: #555; 
        }

        /* å¯¹è¯æ¡†ï¼šæ›´åŠ åœ†æ¶¦å¯çˆ± */
        .dialogue {
            background: #fff;
            padding: 18px 22px; 
            margin: 25px 0; 
            border-radius: 18px;
            border-bottom-left-radius: 2px; /* åƒæ°”æ³¡ä¸€æ · */
            color: #444; 
            font-size: 1.05rem; font-weight: 600;
            box-shadow: 0 4px 15px rgba(0,0,0,0.03);
            position: relative;
        }

        /* å†…å¿ƒç‹¬ç™½ï¼šæ‰‹å†™ä½“åŠ å¼º */
        .thought {
            font-family: var(--font-hand);
            color: #888; 
            font-size: 1.25rem; /* æ‰‹å†™ä½“é€šå¸¸åå°ï¼Œéœ€è¦æ”¾å¤§ */
            margin: 15px 0 35px 15px; 
            padding-left: 15px;
            border-left: 3px solid rgba(224, 159, 149, 0.4);
            line-height: 1.6;
        }

        /* å¼•ç”¨è¯­ */
        .quote {
            text-align: center; color: var(--nick-tone); font-style: italic;
            margin: 40px 0; font-size: 1rem; opacity: 0.9;
        }

        /* --- ç”Ÿæ—¥è´ºå¡ (ç²¾è‡´ç‰ˆ) --- */
        .birthday-card {
            background: linear-gradient(135deg, #fff 0%, #fffbf0 100%);
            padding: 40px 25px;
            border-radius: 20px;
            margin-top: 50px;
            box-shadow: inset 0 0 0 8px rgba(224, 159, 149, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .card-deco {
            position: absolute; width: 100px; height: 100px;
            background: var(--nick-tone); border-radius: 50%;
            top: -50px; left: -50px; opacity: 0.1;
        }
        .card-deco-2 {
            position: absolute; width: 80px; height: 80px;
            background: var(--judy-tone); border-radius: 50%;
            bottom: -40px; right: -40px; opacity: 0.1;
        }

        /* --- æ—¶é—´è½´ä¼˜åŒ– --- */
        .timeline { position: relative; padding-left: 20px; margin-top: 40px; }
        .timeline::before {
            content: ''; position: absolute; left: 0; top: 10px; bottom: 10px; width: 2px;
            background: linear-gradient(to bottom, var(--nick-tone), var(--judy-tone));
            opacity: 0.3; border-radius: 2px;
        }
        .time-node { margin-bottom: 35px; opacity: 0; transform: translateY(10px); transition: 0.6s; padding-left: 20px;}
        .time-node.visible { opacity: 1; transform: translateY(0); }
        .time-date {
            font-family: 'Nunito'; font-weight: 700; color: var(--nick-tone); 
            font-size: 0.9rem; margin-bottom: 5px;
        }
        .time-content { font-size: 1rem; color: #666; background: rgba(255,255,255,0.5); padding: 10px 15px; border-radius: 8px;}

        /* --- ç­”é¢˜åŒº --- */
        #quiz-section { display: none; margin-top: 50px; }
        .quiz-card {
            background: rgba(255,255,255,0.95); border-radius: 20px; padding: 40px 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.08); text-align: center;
        }
        .option-btn {
            background: #F2F4F8; border: none; padding: 16px; border-radius: 12px;
            width: 100%; margin-bottom: 12px; color: #555; font-size: 1rem; font-weight: bold;
            transition: 0.2s; cursor: pointer; font-family: var(--font-body);
        }
        .option-btn:active { transform: scale(0.98); }
        .option-btn.correct { background: #D4EDDA; color: #155724; }
        .option-btn.wrong { background: #F8D7DA; color: #721C24; }

        /* --- ç»“å°¾å¼¹çª— (å«è“„) --- */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.4); z-index: 2000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.6s;
            backdrop-filter: blur(12px);
        }
        .modal.show { opacity: 1; pointer-events: all; }
        .modal-inner {
            background: white; padding: 40px; border-radius: 30px;
            text-align: center; width: 80%; max-width: 320px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        .final-icon { font-size: 3rem; margin-bottom: 15px; animation: float 3s infinite; }
        
        /* éŸ³ä¹æŒ‰é’® */
        .music-player {
            position: fixed; top: 20px; right: 20px; z-index: 1001;
            width: 44px; height: 44px;
            background: rgba(255,255,255,0.4); border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.6);
            display: flex; justify-content: center; align-items: center;
            backdrop-filter: blur(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .music-player svg { width: 20px; height: 20px; fill: #fff; opacity: 0.9; }
        .music-player.playing { background: rgba(255,255,255,0.9); }
        .music-player.playing svg { fill: var(--nick-tone); }

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }

        /* ç§»åŠ¨ç«¯åª’ä½“æŸ¥è¯¢å¾®è°ƒ */
        @media (max-width: 400px) {
            .cover-title { font-size: 2.8rem; }
            .story-card { padding: 30px 20px; }
            p { font-size: 1.05rem; }
        }
    </style>
</head>
<body>

    <audio id="bgm" loop preload="auto">
        <source src="LovingYou.mp3" type="audio/mpeg">
    </audio>

    <div class="music-player" id="musicBtn" onclick="toggleMusic()">
        <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
    </div>

    <canvas id="falling-canvas"></canvas>
    <div id="ripple-layer" class="ripple-layer"></div>

    <div id="cover">
        <div class="hero-img">
            <svg viewBox="0 0 200 200" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="gradCover" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#FF9A9E;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#FECFEF;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <circle cx="100" cy="100" r="80" fill="url(#gradCover)" opacity="0.8" />
                <path d="M70,80 Q60,30 80,20 L90,20 Q110,30 100,80" fill="#fff" opacity="0.4" transform="translate(-10, 10)"/>
                <path d="M110,80 Q120,30 140,20 L150,20 Q170,30 160,80" fill="#fff" opacity="0.4" transform="translate(10, 15)"/>
                <text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" font-family="serif" font-size="24" fill="white" opacity="0.9">Journey</text>
            </svg>
        </div>
        <div class="cover-title">ç»™å¼€å¿ƒçš„å¥‡é‡</div>
        <div class="cover-subtitle">â€”â€” Happy Birthday â€”â€”</div>
        <button class="btn-start" onclick="startJourney()">Open Letter</button>
    </div>

    <div id="main-content">
        
        <div class="story-card">
            <div class="chapter-header">
                <div class="chapter-num">Chapter 01</div>
                <div class="chapter-name">æ¶ä½œå‰§ç¯‡</div>
            </div>
            
            <p>åæœˆçš„æŸä¸€å¤©ï¼Œå°ç‹ç‹¸å¹³é™çš„ç”Ÿæ´»è¢«æ‰“ç ´äº†ã€‚</p>
            <p>é¹å’Œç«å‘Šè¯‰ä»–ï¼Œéœ²è¥æ´»åŠ¨é‚€è¯·äº†åŠå¹´å‰è§è¿‡çš„å¥½æœ‹å‹â€œå¼€å¿ƒâ€ï¼</p>
            <div class="dialogue">â€œæ˜¯åŠå¹´å‰ä¸€èµ·ç©å‰§æœ¬æ€çš„é‚£ä¸ªå¥³å­©å—ï¼Ÿå¥½å®‰é™ã€å¥½æ¼‚äº®ï¼Œå¥½æœŸå¾…ä¸€èµ·ç©ï¼â€</div>
            <div class="thought">â€¦â€¦å…´å¥‹çš„ç¡ä¸ç€</div>
            <div class="quote">ç¬¬ä¸€æ¬¡è§ä½ çš„æˆ‘ï¼Œå¥½æ…Œå¼ ï¼Œæ‰¾ä¸åˆ°ä»€ä¹ˆè¯è¦è®²ã€‚â€”â€”ã€ŠApril Encounterã€‹</div>
            
            <div class="dialogue">â€œéœ²è¥åœ°æœ‰å¥½å¤šæ ‘å¶æ ‘æå‘€ï¼Œå¥½å¥½æ¸…ç†å¹²å‡€ï¼â€</div>
            <div class="thought">â€¦â€¦å…´å¥‹åœ°åœä¸ä¸‹æ¥ï¼Œä¸€åˆ‡å‡†å¤‡å¥½äº†ï¼Œåˆšå¥½æ¥ç”µè¯äº†ï¼Œå»æ¥å¼€å¿ƒï¼</div>
            
            <div class="dialogue">â€œå“ˆå“ˆå“ˆï¼ŒçœŸç¬¨ï¼Œè·Ÿç€èµ°è·¯åˆ°è¥åœ°éƒ½èƒ½èµ°ä¸¢ï¼Œè¿‡å»å–Šå–Šå¥¹ä»¬å§ï¼â€</div>
            <div class="thought">â€¦â€¦å“å‘€ï¼Œä¸ä¼šå’Œå¥³ç”Ÿç›¸å¤„å‘€ï¼Œè’œé¸Ÿï¼ŒåŸ‹å¤´çƒ§çƒ¤å§ã€‚</div>
            <div class="thought">â€¦â€¦å¥¹ä¹Ÿè¿‡æ¥çƒ§çƒ¤ï¼Œç¦»æˆ‘è¿™ä¹ˆè¿‘å¹²å˜›ï¼Œå¯æ¶ï¼Œå¥³äººä½ é å¤ªè¿‘å•¦ï¼</div>
            <div class="thought">â€¦â€¦ç»™å¥¹çƒ¤ä¸ªç³Šçš„å§ï¼</div>

            <div class="dialogue">â€œæƒ³åƒæŸšå­ä½†æ˜¯è«åå¥‡å¦™çš„æƒ³ç»™å¼€å¿ƒå‰¥æŸšå­ï¼Œwtfï¼Œæ‰ç¬¬äºŒæ¬¡è§å•Šï¼Œå¥‡æ€ªçš„æƒ³æ³•å…¥ä¾µå¤§è„‘ã€‚â€</div>
            <div class="thought">â€¦â€¦å‰¥æŸšå­ï¼Œç»™å­¦å§åƒï¼Œå­¦å§åˆ†äº«ç»™å¤§å®¶åƒï¼Œå¥‡æ€ªçš„ç›®çš„è¾¾æˆäº†~</div>
            
            <p>éœ²è¥æ´»åŠ¨ç»“æŸï¼Œæ„Ÿè§‰æ—¶é—´è¿‡å¾—å¥½å¿«ï¼Œä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰æœºä¼šå†è§åˆ°å¼€å¿ƒå‘¢ï¼Ÿå°ç‹ç‹¸èººç€èƒ¡æ€ä¹±æƒ³ã€‚</p>
            <p>çªç„¶é¹å’Œç«çš„ç”µè¯æ‰“è¿‡æ¥äº†ï¼Œç«Ÿç„¶é—®ä»–å–œä¸å–œæ¬¢å¼€å¿ƒï¼Ÿï¼Ÿï¼Ÿ</p>
            
            <div class="dialogue">â€œå¤©å“ªï¼Œå“ªæœ‰è¿™ä¹ˆç›´æ¥çš„å•Šï¼Œå®Œå…¨æ²¡æœ‰å‡†å¤‡å¥½æ€ä¹ˆå’Œä¸€ä¸ªå¥³ç”Ÿç›¸å¤„å‘€ï¼Œå†µä¸”æˆ‘å’Œå¥¹è¿™ç§æ€§æ ¼ï¼Œåœ¨ä¸€èµ·äº’ç›¸éƒ½ä¸è¯´è¯å¥¹ä¼šæ„Ÿåˆ°å¾ˆå°¬ç„¶åè‡ªåŠ¨ç¦»å¼€æˆ‘çš„ï¼â€</div>
            <div class="thought">â€¦â€¦è£…å‚»å§ï¼Œç³Šå¼„è¿‡å»ï¼Œè¿‡äº†è¿™ä¸€å¤©å°±åˆèƒ½å›åˆ°å¹³é™çš„ç”Ÿæ´»äº†ï¼Œæ°´æ³¥å°å¿ƒï¼Œå¯åŠ¨ï¼</div>
            <div class="thought">â€¦â€¦å¹³é™çš„ç”Ÿæ´»ï¼Œä½†æ€»æ„Ÿè§‰å¾ˆçƒ¦ï¼Œåƒå°‘äº†ç‚¹ä»€ä¹ˆ</div>

            <div class="dialogue">â€œç«ç«å‘¨äº”çº¦äº†å¼€å¿ƒï¼Œåˆ°æ—¶å€™ä½ å»å¥¹å…¬å¸æ¥å¥¹å§ï¼Œç„¶åä½ ä¿©åˆ°å­¦æ ¡é€›é€›ï¼Œåˆ°äº†ä¸ƒç‚¹å†å’Œç«ç«æ±‡åˆå»åƒé¥­â€</div>
            <div class="thought">â€¦â€¦è¿™å°±å’Œå¼€å¿ƒå•ç‹¬å¾…åœ¨ä¸€èµ·äº†ï¼Ÿï¼Ÿæ ¹æœ¬æ²¡å‡†å¤‡å¥½å•Šå–‚ï¼Œæƒ³æ‹’ç»ï¼</div>
            <div class="dialogue">â€œé‚£æˆ‘å‘Šè¯‰å¼€å¿ƒè¯´ä½ ä¸å»å•¦ã€‚â€</div>
            <div class="thought">â€¦â€¦å¯æ¶å•Šï¼Œåˆ«ã€åˆ«ã€åˆ«ã€åˆ«ã€åˆ«ã€åˆ«ã€åˆ«ã€åˆ«</div>
            <p style="text-align: center; color: var(--nick-tone); margin-top: 40px; font-weight: bold;">æˆ‘æ€€ç–‘ï¼Œè¿™å¥‡é‡ï¼Œå°±æ˜¯ä¸ªæ¶ä½œå‰§ï¼</p>
        </div>

        <div class="story-card">
            <div class="chapter-header">
                <div class="chapter-num">Chapter 02</div>
                <div class="chapter-name">æœˆäº®ç¯‡</div>
            </div>

            <p>å°é›¨ã€‚å¯æ¶çš„å¤©æ°”ã€‚</p>
            <div class="dialogue">â€œè™½ç„¶æœ‰é›¨ï¼Œè¿˜æ˜¯éª‘è½¦å»å§ï¼Œè¯´ä¸å®šé›¨åœäº†å‘¢ï¼Ÿâ€</div>
            <div class="thought">â€¦â€¦å…¨èº«å¾®æ¹¿</div>
            <div class="dialogue">â€œè¿˜æ˜¯ä¸è¦éª‘å›å­¦æ ¡äº†å§ï¼Œè¿˜æ˜¯æ™šé«˜å³°ï¼Œå¼€å¿ƒååé¢è¿˜å¾—æ‰“ä¼å•¥çš„ï¼Œå¾ˆå±é™©ï¼Œç›´æ¥æŠŠè½¦åœå¥¹å…¬å¸æ¥¼ä¸‹ï¼Œæœ‰æœºä¼šå†æ¥å¥¹å‡ºæ¥ï¼Œå˜¿å˜¿ï¼Œè¯•å›¾æ¥è¿‘å¥¹äº†è§£å¥¹çš„å°å€Ÿå£æœ‰å•¦â€</div>
            
            <h3 style="text-align: center; color: var(--judy-tone); margin: 30px 0; font-family: var(--font-title); font-weight: normal;">âœ¨ å°ç‹ç‹¸æ»¡çœ¼éƒ½æ˜¯å¼€å¿ƒï¼</h3>
            
            <div class="thought">â€¦â€¦å¥¹ä¸å–œæ¬¢åƒé¦™èœã€ä¸çˆ±åƒæµ·é²œ...ä½†æ˜¯å¥¹å¥½å‰å®³ï¼Œç«Ÿç„¶å–œæ¬¢åæ¬¢ä¹è°·æœ€å¤§çš„è¿‡å±±è½¦ï¼Œè¿˜æœ‰è·³æ¥¼æœºï¼</div>
            <div class="thought">â€¦â€¦å¥¹åƒçƒ¤è‚‰å–œæ¬¢ç”¨é’èœåŒ…ä½çƒ¤è‚‰ï¼Œå°ç‹ç‹¸ä»ä¸åƒé’èœï¼Œå°è¯•äº†ä¸€ä¸‹åç«Ÿç„¶æ„Ÿè§‰åƒæ˜¯æ‰¾åˆ°äº†æ–°å¤§é™†</div>
            <div class="thought">â€¦â€¦å¥¹å–œæ¬¢è¿½å‰§ï¼Œå¥¹æ¶‰çŒçœŸå¹¿...å¥¹æœ¬äººä¸€å®šå¾ˆæœ‰æ„æ€å‘€ï¼Œåªæ˜¯å¥½éš¾æ¥è¿‘å‘€</div>
            <div class="thought">â€¦â€¦å¥¹è¯´å¥¹å¥½ä¹…éƒ½æ²¡å–è¿‡é…’ï¼Œè¿™æ¬¡ç«Ÿç„¶é™ªå°ç‹ç‹¸å–äº†...</div>
            <div class="thought">â€¦â€¦å¥¹è¯´é‚£æ˜¯å¥¹ç¬¬ä¸€æ¬¡åæœ‰è½¨ç”µè½¦ï¼ŒèŠœæ¹–ï¼</div>
            <div class="thought">â€¦â€¦å¥¹è¯´å¥¹è¢«å·¥ä½œå½±å“ï¼Œè„¾æ°”æ…¢æ…¢å˜å·®äº†è¯¶...ä¸è¿‡åˆè«åå¥‡å¦™çš„æƒ³çœ‹å¥¹ç”Ÿæ°”çš„æ ·å­ï¼Œå¥‡æ€ªçš„æ„Ÿè§‰</div>
            <div class="thought">â€¦â€¦å¥¹æ‰“ç¾½æ¯›çƒç«Ÿç„¶å«æ±Ÿå“¥æŠŠæˆ‘å¾€æ­»é‡Œæ‰“...å¥½æƒ³æ¬ºè´Ÿå¥¹å•Š</div>
            <div class="thought">â€¦â€¦å¥¹å”±çš„æ¯ä¸€é¦–æ­Œéƒ½å¥½ç”œå•Šï¼Œæƒ…æ­Œç‹éƒ½è¢«å¥¹å”±æˆç”œæ­Œç‹äº†</div>
            
            <p>å°ç‹ç‹¸æƒ³è®¤çœŸåœ°å¯¹å¾…ä¸€ä¸ªå¥³ç”Ÿäº†ã€‚</p>
            <p>å°ç‹ç‹¸å¹³é™çš„ç”Ÿæ´»ç»“æŸäº†ã€‚</p>

            <div class="dialogue">â€œå¥½æƒ³æ‰“å¼€å¥¹çš„è¯åŒ£å­å‘€...å¥¹å®¶ä½å“ªé‡Œï¼Ÿè°ˆè¿‡æ‹çˆ±å—ï¼Ÿæœ€æƒ³å»ä»€ä¹ˆåœ°æ–¹æ—…è¡Œï¼Ÿå’Œè°æ—…è¡Œâ€¦â€¦â€</div>
            <div class="thought">â€¦â€¦ä¸çŸ¥é“å¥¹å–œä¸å–œæ¬¢çŒ«å’ªï¼Œå‡†å¤‡ç‚¹çŒ«æ¡ã€‚</div>
            <div class="thought">â€¦â€¦å­¦æ ¡åˆ°åº•æœ‰ä»€ä¹ˆå¥½åƒçš„ï¼Ÿåˆ°å¤„é—®é—®ã€‚</div>
            <div class="thought">â€¦â€¦å°è¯•çº¦çº¦å¥¹å§ï¼Œåˆšå¥½è½¦æ”¾åœ¨å¥¹å…¬å¸äº†ï¼Œå˜¿å˜¿ï¼Œå€Ÿå£æœ‰äº†</div>
            
            <p>åŠ ç­â€¦â€¦</p>
            <div class="thought">â€¦â€¦ä¸æ˜¯æ—¶å€™å‘¢ï¼Œä¸‹æ¬¡å†è¯•è¯•å§ï¼Œä¸è¿‡å¥¹è¦æ˜¯èƒ½çº¦å°ç‹ç‹¸å°±å¥½äº†ï¼Œå—ï¼Œåˆ«å¼‚æƒ³å¤©å¼€å•¦ã€‚</div>
            
            <div class="dialogue">â€œå¼€å¿ƒçš„æ€§æ ¼çœŸçš„å°±åƒæ˜¯ä¸–ç•Œä¸Šçš„å¦ä¸€ä¸ªæˆ‘ï¼ŒæŸæ®µæ—¶é—´çš„æˆ‘â€å°ç‹ç‹¸å¿ƒæƒ³</div>
            <div class="dialogue">â€œåŸæ¥æˆ‘çœŸå¯æ¶å•Šï¼Œå¹³æ—¶ç»™äººçš„æ„Ÿè§‰é‚£ä¹ˆå†·æ·¡ï¼Œä½†å…¶å®æœ¬æ„ä¸æ˜¯è¿™æ ·çš„ï¼â€</div>
            <p>å°ç‹ç‹¸å¸Œæœ›ç¡®å®æ˜¯ä»–æƒ³çš„é‚£æ ·ã€‚</p>

            <div class="dialogue">â€œç–¯ç‹‚åŠ¨ç‰©åŸ2è¦ä¸Šæ˜ äº†ï¼Œä¸æƒ³å’ŒæŠ è„šå¤§æ±‰ä»¬ä¸€èµ·çœ‹è¿™ä¸ªå•Šï¼ï¼ï¼å†å°è¯•ä¸€ä¸‹çº¦å¼€å¿ƒå§â€</div>
            <div class="thought">â€¦â€¦å¥¹ä¼šä¸ä¼šå¦æœ‰å®‰æ’å‘¢...åˆšè®¤è¯†çš„å°ç‹ç‹¸æ€ä¹ˆå¯èƒ½æˆä¸ºé¦–é€‰</div>
            <div class="thought">â€¦â€¦åˆ°åº•è¦ä¸è¦çº¦å¥¹å‘¢ï¼Œå…ˆçº ç»“ç€å§~</div>
            <div class="thought">â€¦â€¦å¥½æ—¶é—´æ®µçš„ç¥¨éƒ½è¦è¢«æŠ¢ç©ºäº†å•Šï¼Œå†³å®šäº†ï¼Œå†å°è¯•çº¦å¥¹ä¸€ä¸‹å§ï¼Œå¥¹æ˜¯â€œä¸–ç•Œä¸Šå¦ä¸€ä¸ªæˆ‘â€ï¼Œå°±ç®—ä¸å’Œå°ç‹ç‹¸å»ï¼ŒçŸ¥é“å°ç‹ç‹¸çº¦äº†å¥¹åº”è¯¥ä¹Ÿä¼šå¾ˆå¼€å¿ƒå§</div>

            <p>ç¡®å®æ²¡èƒ½çº¦ä¸Šå‘¢ï¼Œä¸è¿‡å¥¹ç»™çš„åŸå› æ˜¯å’Œå¦¹å¦¹çº¦å¥½äº†</p>
            <div class="thought">â€¦â€¦å¯æ¶çš„å¦¹å¦¹ï¼ï¼ï¼ï¼</div>

            <p>æ¯å‘¨åªæœ‰å‘¨æœ«èƒ½çº¦ç€å’Œå¤§å®¶ä¸€èµ·ç©ï¼Œå¦‚æœæŸå‘¨æœ‰äº‹ï¼Œé‚£å°±æ˜¯åŠæœˆä¸è§</p>
            <div class="thought">â€¦â€¦ä»€ä¹ˆæ—¶å€™æ‰èƒ½æ‰“å¼€å¥¹çš„è¯åŒ£å­å•Š</div>
            <div class="thought">â€¦â€¦ä¸€å‘¨ä¸€å‘¨è¿‡å»ï¼Œå¥¹å¥½åƒè§åˆ°å°ç‹ç‹¸è¶Šæ¥è¶Šå°´å°¬äº†ï¼Œå’Œå°ç‹ç‹¸æœ€å¼€å§‹æ‹…å¿ƒçš„äº‹æƒ…ä¸€æ ·</div>
            <div class="thought">â€¦â€¦å¥¹è¯´è¯ä¸æ•¢çœ‹å°ç‹ç‹¸ï¼Œç«™åœ¨ä¸€èµ·çš„æ—¶å€™ä¹Ÿä¸æ•¢å¤šå¾…ä¸€ä¼šå„¿</div>
            <div class="thought">â€¦â€¦è¿™æ®µå¥‡é‡ä¼šå°±è¿™æ ·ç»“æŸäº†å—ï¼Ÿ</div>
            <div class="thought">â€¦â€¦è¿˜æ˜¯è¯´ï¼Œå¥¹æ¥è§¦ä¸‹æ¥è§‰å¾—å°ç‹ç‹¸æ²¡æ„æ€å‘¢ï¼Ÿ</div>

            <p>å°ç‹ç‹¸é™ä¸ä¸‹æ¥äº†ï¼Œçœ‹ç€æœˆäº®å‘å‘†ï¼Œå¹äº†å¹æ°”ã€‚</p>
            <div class="quote">â€œæˆ‘æ˜¯ä½ æˆ¿é—´çš„æœˆäº®ï¼Œæ— èŠçš„æ—¶å€™æ‰¾æˆ‘å€Ÿå…‰èŠ’ï¼›é—­ä¸Šçœ¼å‘ç°æˆ‘æ™ƒå¾—æ…Œï¼Œå¤ªé˜³å‡èµ·æˆ‘è¿˜æ˜¯æ²¡èƒ½å¿˜â€¦â€¦â€</div>
        </div>

        <div class="story-card">
            <div class="chapter-header">
                <div class="chapter-num">Chapter 03</div>
                <div class="chapter-name">ç”Ÿæ—¥ç¯‡</div>
            </div>

            <p>å°ç‹ç‹¸è¿˜æ˜¯åœ¨ç¬¬ä¸€æ¬¡å’Œå¼€å¿ƒåƒé¥­çš„æ—¶å€™å¾—çŸ¥çš„å¼€å¿ƒç”Ÿæ—¥ã€‚</p>
            <div class="thought">â€¦â€¦å¼€å¿ƒæ˜¯å°„æ‰‹åº§ï¼Œé‚£å²‚ä¸æ˜¯é©¬ä¸Šå°±è¦è¿‡ç”Ÿæ—¥å•¦</div>
            <div class="thought">â€¦â€¦ä¸€å®šè¦ç»™å¥¹ä¸€ä¸ªæœ€ç‰¹åˆ«çš„ç”Ÿæ—¥ç¤¼ç‰©ï¼</div>

            <div class="timeline">
                <div class="time-node">
                    <div class="time-date">11æœˆ23æ—¥</div>
                    <div class="time-content">ç»™ä½ å‡†å¤‡ç–¯ç‹‚åŠ¨ç‰©åŸä¸»é¢˜çš„ç¤¼ç‰©ã€‚è¦æ˜¯èƒ½ä¸€èµ·çœ‹å°±æ›´å¥½äº†ã€‚</div>
                </div>
                
                <div class="time-node">
                    <div class="time-date">11æœˆ24æ—¥</div>
                    <div class="time-content">å¬é”™äº†ä½ å–œæ¬¢çš„æ˜æ˜Ÿï¼Œè¯¯é€‰äº†ã€ŠLovingYouã€‹ã€‚å¼€å§‹è‹¦ç»ƒè¿™é¦–æ›²å­ã€‚</div>
                </div>

                <div class="time-node">
                    <div class="time-date">11æœˆ25æ—¥</div>
                    <div class="time-content">æ‰‹å…¨æ˜¯æ°´æ³¡ï¼Œæ›²å­å¥½éš¾ã€‚</div>
                </div>

                <div class="time-node">
                    <div class="time-date">11æœˆ26æ—¥</div>
                    <div class="time-content">å¤§æ¨ªæŒ‰ä½¿ä¸ä¸ŠåŠ²ã€‚ä¸èƒ½æ”¾å¼ƒï¼Œæ²¡æœ‰æ›²å­å°±æ²¡æœ‰ç‹¬ä¸€æ— äºŒçš„ç¤¼ç‰©ã€‚</div>
                </div>

                <div class="time-node">
                    <div class="time-date">11æœˆ27æ—¥</div>
                    <div class="time-content">æ¸å…¥ä½³å¢ƒï¼Œä¸èƒ½å¼¹é¡ºçš„éƒ¨åˆ†ç«Ÿç„¶èƒ½å¼¹äº†ï¼</div>
                </div>

                <div class="time-node">
                    <div class="time-date">11æœˆ28æ—¥</div>
                    <div class="time-content">æ—¥å¸¸ç»ƒç´ï¼Œæ—¶é—´å¥½ç´§è¿«å•Šã€‚</div>
                </div>

                <div class="time-node">
                    <div class="time-date">11æœˆ29æ—¥</div>
                    <div class="time-content">ä»Šå¤©å‘¨å…­ï¼Œæƒ³å«ä½ å‡ºå»ç©...è’œé¸Ÿï¼Œèººå°¸å§ï¼</div>
                </div>

                <div class="time-node">
                    <div class="time-date">11æœˆ30æ—¥</div>
                    <div class="time-content">å¥½ä¹…æ²¡è§ï¼Œä½ éš”äº†é‚£ä¹ˆè¿œè·Ÿæˆ‘æ‹›æ‰‹ï¼Œå¯åˆ°èº«è¾¹äº†å´ä¸æ•¢çœ‹æˆ‘...</div>
                </div>

                <div class="time-node">
                    <div class="time-date">12æœˆ1æ—¥</div>
                    <div class="time-content">æƒ³åˆ°äº†æ–°ç‚¹å­ï¼ç»™ä½ ä¸€ä¸ªè®¡ç®—æœºä¸“ä¸šæœ‹å‹ç‹¬æœ‰çš„ç¤¼ç‰©ï¼</div>
                </div>

                <div class="time-node">
                    <div class="time-date">12æœˆ2æ—¥</div>
                    <div class="time-content">æ‹¼è±†å®Œæˆäº†ã€‚å‘èª“åªåšè¿™ä¸€æ¬¡æ‰‹å·¥ï¼</div>
                </div>

                <div class="time-node">
                    <div class="time-date">12æœˆ3æ—¥</div>
                    <div class="time-content">ä»Šå¤©é˜³å…‰çœŸå¥½ï¼Œç¤¼ç‰©å‡†å¤‡å¾—å·®ä¸å¤šäº†ã€‚</div>
                </div>

                <div class="time-node">
                    <div class="time-date">12æœˆ4æ—¥</div>
                    <div class="time-content">å–‰å’™å¥½ç—›ï¼Œä»£ç è¿˜æ²¡å†™å®Œã€‚æœ‰ç‚¹ç´§è¿«äº†ã€‚</div>
                </div>

                <div class="time-node">
                    <div class="time-date">12æœˆ5æ—¥</div>
                    <div class="time-content">èŠ¯ç‰‡åˆ°è´§ï¼Œç¨‹åºå½•å…¥æˆåŠŸï¼ï¼</div>
                </div>
            </div>

            <div class="birthday-card">
                <div class="card-deco"></div>
                <div class="card-deco-2"></div>
                <h3 style="color: var(--nick-tone); font-family: var(--font-title); font-size: 2rem;">ğŸ‚ ç”Ÿæ—¥å¿«ä¹å‘€ï¼</h3>
                <p style="margin-top: 20px; font-weight: bold; color: #555;">å¸Œæœ›ä½ è¯»åˆ°è¿™é‡Œå“­é¼»å­å•¦ï¼æƒ³çœ‹ï¼<br>å¦‚æœæ˜¯ç¬‘ç€çš„é‚£å½“ç„¶æ›´å¥½å•¦ï¼</p>
                <p style="font-family: var(--font-hand); color: #888; font-size: 1.2rem; margin-top: 15px;">2025å¹´çš„ç”Ÿæ—¥èƒ½æœ‰è¿™æ ·ä¸€ä»½ç‰¹åˆ«çš„ç¤¼ç‰©ï¼Œ<br>ä½ ä¼šè®°å¾—å¤šä¹…å‘¢ï¼Ÿ</p>
            </div>
        </div>

        <div style="text-align: center; margin-bottom: 50px;">
            <button class="btn-start" style="font-size: 1rem; padding: 12px 30px; background: rgba(255,255,255,0.7);" id="startQuizBtn" onclick="startQuiz()">è¿˜æœ‰å‡ ä¸ªå°é—®é¢˜</button>
        </div>

        <div id="quiz-section"></div>
        
        <div style="height: 100px;"></div>

    </div>

    <div id="final-modal" class="modal">
        <div class="modal-inner">
            <div class="final-icon">ğŸƒ</div>
            <h2 style="color: var(--nick-tone); font-family: var(--font-title); font-size: 2rem; margin-bottom: 15px;">Me Too</h2>
            <p style="color: #999; font-family: var(--font-hand); font-size: 1.2rem;">ï¼ˆå°ç‹ç‹¸çš„å¿ƒå£°ï¼‰</p>
            <button class="btn-start" style="margin-top: 30px; padding: 10px 30px; font-size: 0.9rem;" onclick="document.getElementById('final-modal').classList.remove('show')">æ”¶åˆ°å¿ƒæ„</button>
        </div>
    </div>

    <script>
        // --- 1. å¢å¼ºç‰ˆé£˜è½ç²’å­ (Enhanced Canvas) ---
        const canvas = document.getElementById('falling-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.reset();
                this.y = Math.random() * height; // åˆå§‹éšæœºåˆ†å¸ƒ
            }
            reset() {
                this.x = Math.random() * width;
                this.y = -20;
                // å¤§å°å·®å¼‚åŒ–
                this.size = Math.random() * 5 + 2; 
                // é€Ÿåº¦å·®å¼‚åŒ–
                this.speedY = Math.random() * 1 + 0.3; 
                this.speedX = Math.random() * 0.5 - 0.25;
                // é€æ˜åº¦ä¸é—ªçƒ
                this.opacity = Math.random() * 0.5 + 0.1;
                this.fadeSpeed = Math.random() * 0.01 + 0.002;
                // é¢œè‰²ï¼šç™½è‰²æˆ–æ·¡é‡‘
                this.color = Math.random() > 0.8 ? '255, 230, 150' : '255, 255, 255'; 
            }
            update() {
                this.y += this.speedY;
                this.x += this.speedX + Math.sin(this.y * 0.01) * 0.3; // å¢åŠ æ‘†åŠ¨æ„Ÿ
                
                // æ¨¡æ‹Ÿé—ªçƒ
                this.opacity += Math.sin(Date.now() * 0.005) * 0.005;
                
                if (this.y > height + 20) this.reset();
            }
            draw() {
                ctx.beginPath();
                ctx.globalAlpha = Math.max(0, Math.min(1, this.opacity));
                ctx.fillStyle = `rgb(${this.color})`;
                // ç»˜åˆ¶åœ†å½¢
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                
                // ç»™éƒ¨åˆ†ç²’å­åŠ ä¸€ç‚¹å…‰æ™•
                if(this.size > 5) {
                    ctx.beginPath();
                    ctx.globalAlpha = this.opacity * 0.3;
                    ctx.arc(this.x, this.y, this.size * 2, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
        }

        function initParticles() {
            particles = [];
            // ç²’å­æ•°é‡
            for (let i = 0; i < 45; i++) {
                particles.push(new Particle());
            }
        }
        function animateParticles() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateParticles);
        }
        initParticles();
        animateParticles();


        // --- 2. äº¤äº’é€»è¾‘ (ä¿æŒä¸å˜) ---
        const rippleLayer = document.getElementById('ripple-layer');
        function createRipple(x, y) {
            const ripple = document.createElement('div');
            ripple.classList.add('ripple');
            ripple.style.left = x - 10 + 'px';
            ripple.style.top = y - 10 + 'px';
            rippleLayer.appendChild(ripple);
            setTimeout(() => ripple.remove(), 1300);
        }
        document.addEventListener('click', (e) => createRipple(e.clientX, e.clientY));
        document.addEventListener('touchstart', (e) => {
            const t = e.touches[0];
            createRipple(t.clientX, t.clientY);
        }, {passive: true});

        const bgm = document.getElementById('bgm');
        const musicBtn = document.getElementById('musicBtn');
        let isPlaying = false;
        function toggleMusic() {
            if (isPlaying) { bgm.pause(); musicBtn.classList.remove('playing'); } 
            else { bgm.play(); musicBtn.classList.add('playing'); }
            isPlaying = !isPlaying;
        }

        function startJourney() {
            document.getElementById('cover').classList.add('hidden');
            setTimeout(() => { document.getElementById('main-content').style.opacity = 1; }, 500);
            bgm.play().then(() => { isPlaying = true; musicBtn.classList.add('playing'); }).catch(()=>{});
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    if(entry.target.classList.contains('story-card')) {
                        const nodes = entry.target.querySelectorAll('.time-node');
                        nodes.forEach((node, i) => setTimeout(() => node.classList.add('visible'), i * 150));
                    }
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.story-card').forEach(c => observer.observe(c));

        const questions = [
            { q: "1ã€ä»–æœ€å–œæ¬¢çš„æ˜æ˜Ÿï¼Ÿ", opts: ["IU", "æ²ˆè…¾", "è¿ªä¸½çƒ­å·´", "è”¡å¾å¤"], ans: "IU" },
            { q: "2ã€ä»–å–œæ¬¢åƒé¦™èœå—ï¼Ÿ", opts: ["å–œæ¬¢", "ä¸å–œæ¬¢"], ans: "ä¸å–œæ¬¢" },
            { q: "3ã€ä»–å–œæ¬¢çš„æ¸¸ä¹é¡¹ç›®ï¼Ÿ", opts: ["è¿‡å±±è½¦", "å¤§æ‘†é”¤", "é¬¼å±‹", "ç¢°ç¢°è½¦"], ans: "ç¢°ç¢°è½¦" },
            { q: "4ã€ä»–çš„æ˜Ÿåº§æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["ç™½ç¾Šåº§", "æ‘©ç¾¯åº§", "å¤©ç§¤åº§", "å¤©èåº§"], ans: "å¤©ç§¤åº§" },
            { q: "5ã€éœ²è¥é‚£å¤©ä»–ç©¿ä»€ä¹ˆé¢œè‰²çš„è¡£æœï¼Ÿ", opts: ["æ ¼å­è¡¬è¡«", "ç™½è‰²æ¯›è¡£", "é»‘è‰²æ¯›è¡£", "é»‘è‰²è¡¬è¡«"], ans: "ç™½è‰²æ¯›è¡£" },
            { q: "6ã€KTVé‚£å¤©ä»–ç‚¹çš„æ­Œæ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["æœ‰ç‚¹ç”œ", "æœ‰ä½•ä¸å¯", "æ¶ä½œå‰§", "é‚£äº›å¹´"], ans: "æ¶ä½œå‰§" },
            { q: "7ã€èƒŒæ™¯éŸ³ä¹æ­Œåæ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["LovingYou"], ans: "LovingYou", type: "final" }
        ];
        let qIndex = 0;
        function startQuiz() {
            document.getElementById('startQuizBtn').style.display = 'none';
            document.getElementById('quiz-section').style.display = 'block';
            showQuestion();
        }
        function showQuestion() {
            const section = document.getElementById('quiz-section');
            const data = questions[qIndex];
            const card = document.createElement('div');
            card.className = 'quiz-card';
            let html = `<div style="font-size:1.1rem;margin-bottom:20px;color:#555;font-weight:bold;">${data.q}</div>`;
            if(data.type === 'final') {
                html += `<button class="option-btn" style="background:linear-gradient(90deg, #ff9a9e, #fad0c4);color:white;" onclick="showFinal()">ğŸ ${data.opts[0]}</button>`;
            } else {
                data.opts.forEach(opt => { html += `<button class="option-btn" onclick="check(this,'${opt}','${data.ans}')">${opt}</button>`; });
            }
            card.innerHTML = html;
            section.innerHTML = '';
            section.appendChild(card);
        }
        function check(btn, val, ans) {
            const allBtns = btn.parentElement.querySelectorAll('button');
            allBtns.forEach(b => b.disabled = true);
            if(val === ans) {
                btn.classList.add('correct');
                setTimeout(() => { if(qIndex < questions.length-1) { qIndex++; showQuestion(); } }, 600);
            } else {
                btn.classList.add('wrong');
                setTimeout(() => { btn.classList.remove('wrong'); allBtns.forEach(b => b.disabled = false); }, 500);
            }
        }
        function showFinal() { document.getElementById('final-modal').classList.add('show'); }
    </script>
</body>
</html>
